<!DOCTYPE html>
<html>
<head>
  <title>Sanitizer</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: 20px auto; }
    textarea, #output { width: 100%; padding: 8px; }
    #popup { display: none; position: fixed; top: 10px; right: 10px; background: green; color: #fff; padding: 5px; }
  </style>
</head>
<body>
  <h3>Text Sanitizer</h3>
  <textarea rows="4" onpaste="p(event)" placeholder="Paste text..."></textarea>
  <h3>Output</h3>
  <div id="output"></div>
  <div id="popup">Copied</div>

  <script>
    function p(e) {
      e.preventDefault();
      let t = (e.clipboardData || window.clipboardData).getData("text");
      let c = t.replace(/[^a-zA-Z0-9\s#$%^&*()\-_=\+\[\]{}|;:'",<.>\/?~Â¢]/g, "").trim().toUpperCase();
      let o = document.getElementById("output");
      if (c.length > 57) {
        o.innerText = "Too long (max 57 chars)";
        o.style.color = "red";
      } else {
        o.innerText = c;
        o.style.color = "black";
        navigator.clipboard.writeText(c);
        let pop = document.getElementById("popup");
        pop.style.display = "block";
        setTimeout(() => pop.style.display = "none", 1500);
      }
      e.target.value = t;
    }
  </script>
</body>
</html>
